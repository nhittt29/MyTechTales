<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Quản lý các luồng nhập xuất | My Tech Tales</title><meta name=keywords content="Java,I/O,Mạng"><meta name=description content="Hướng dẫn chi tiết về quản lý luồng nhập xuất (I/O) trong lập trình mạng bằng Java, từ cơ bản đến ứng dụng nâng cao, cập nhật ngày 16/10/2025."><meta name=author content><link rel=canonical href=https://nhittt29.github.io/MyTechTales/blog/java/io-streams/><link crossorigin=anonymous href=/MyTechTales/assets/css/stylesheet.a090830a421002426baafbd314e38f149d77b4c48a12ee9312700d770b27fb26.css integrity="sha256-oJCDCkIQAkJrqvvTFOOPFJ13tMSKEu6TEnANdwsn+yY=" rel="preload stylesheet" as=style><link rel=icon href=https://nhittt29.github.io/MyTechTales/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://nhittt29.github.io/MyTechTales/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://nhittt29.github.io/MyTechTales/favicon-32x32.png><link rel=apple-touch-icon href=https://nhittt29.github.io/MyTechTales/apple-touch-icon.png><link rel=mask-icon href=https://nhittt29.github.io/MyTechTales/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://nhittt29.github.io/MyTechTales/blog/java/io-streams/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://nhittt29.github.io/MyTechTales/blog/java/io-streams/"><meta property="og:site_name" content="My Tech Tales"><meta property="og:title" content="Quản lý các luồng nhập xuất"><meta property="og:description" content="Hướng dẫn chi tiết về quản lý luồng nhập xuất (I/O) trong lập trình mạng bằng Java, từ cơ bản đến ứng dụng nâng cao, cập nhật ngày 16/10/2025."><meta property="og:locale" content="vi"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2025-10-16T00:00:00+00:00"><meta property="article:modified_time" content="2025-10-16T00:00:00+00:00"><meta property="article:tag" content="Java"><meta property="article:tag" content="I/O"><meta property="article:tag" content="Mạng"><meta name=twitter:card content="summary"><meta name=twitter:title content="Quản lý các luồng nhập xuất"><meta name=twitter:description content="Hướng dẫn chi tiết về quản lý luồng nhập xuất (I/O) trong lập trình mạng bằng Java, từ cơ bản đến ứng dụng nâng cao, cập nhật ngày 16/10/2025."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Bài viết","item":"https://nhittt29.github.io/MyTechTales/blog/"},{"@type":"ListItem","position":2,"name":"Lập trình Java","item":"https://nhittt29.github.io/MyTechTales/blog/java/"},{"@type":"ListItem","position":3,"name":"Quản lý các luồng nhập xuất","item":"https://nhittt29.github.io/MyTechTales/blog/java/io-streams/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Quản lý các luồng nhập xuất","name":"Quản lý các luồng nhập xuất","description":"Hướng dẫn chi tiết về quản lý luồng nhập xuất (I/O) trong lập trình mạng bằng Java, từ cơ bản đến ứng dụng nâng cao, cập nhật ngày 16/10/2025.","keywords":["Java","I/O","Mạng"],"articleBody":"1. Giới thiệu Luồng nhập xuất (Input/Output - I/O) là quá trình xử lý dữ liệu giữa các thiết bị hoặc qua mạng trong Java.\nTrong lập trình mạng, I/O đóng vai trò quan trọng để gửi và nhận thông tin giữa client và server một cách hiệu quả.\nBài viết này, được cập nhật vào sáng ngày 16/10/2025 lúc 09:20 AM +07, sẽ giải thích cách quản lý luồng, các loại luồng, phương pháp tối ưu, và ứng dụng thực tế.\n2. Vai trò của luồng nhập xuất trong mạng Nhận dữ liệu: Đọc thông tin từ socket, file, hoặc nguồn dữ liệu qua mạng. Gửi dữ liệu: Truyền phản hồi, file, hoặc lệnh điều khiển đến client. Hiệu suất: Quản lý luồng đúng cách giúp tránh nghẽn mạng, mất dữ liệu, hoặc tiêu tốn tài nguyên không cần thiết. Thời gian thực: Hỗ trợ các ứng dụng như streaming hoặc chat cần xử lý dữ liệu liên tục. 3. Các loại luồng trong Java Java cung cấp nhiều loại luồng để xử lý dữ liệu, mỗi loại phù hợp với mục đích khác nhau:\nInputStream: Đọc dữ liệu thô từ nguồn (ví dụ: socket, file). FileInputStream: Đọc file cục bộ. BufferedInputStream: Tăng tốc độ đọc bằng bộ đệm. OutputStream: Gửi dữ liệu đến đích. FileOutputStream: Ghi vào file. PrintWriter: Hỗ trợ ghi chuỗi dễ dàng, thường dùng trong socket. Reader/Writer: Xử lý dữ liệu ký tự (Unicode), phù hợp với văn bản. BufferedReader: Đọc dòng văn bản hiệu quả. PrintWriter: Ghi văn bản với định dạng tốt. 4. Cách quản lý luồng hiệu quả Để đảm bảo ứng dụng mạng hoạt động ổn định, cần áp dụng các kỹ thuật sau:\nMở và đóng luồng: Luôn gọi phương thức close() sau khi sử dụng để giải phóng tài nguyên. Sử dụng try-with-resources để tự động đóng. Xử lý ngoại lệ: Áp dụng try-catch để bắt lỗi IOException, tránh crash ứng dụng. Sử dụng buffer: Bộ đệm (BufferedReader/BufferedWriter) giảm số lần truy cập I/O, tăng hiệu suất. Kiểm tra trạng thái: Đảm bảo socket hoặc luồng còn hoạt động trước khi đọc/ghi. 5. Ứng dụng thực tế Nhận file qua mạng: Tải tệp từ server về client, ví dụ: cập nhật phần mềm. Gửi lệnh điều khiển: Truyền thông tin cấu hình qua socket, như điều chỉnh server từ xa. Dịch vụ streaming: Phát video hoặc âm thanh qua mạng, yêu cầu I/O liên tục. Log hệ thống: Ghi nhật ký hoạt động mạng vào file để phân tích. 6. Ví dụ minh họa Dưới đây là ví dụ server nhận dữ liệu từ client qua luồng, với xử lý ngoại lệ và bộ đệm:\nimport java.io.*; import java.net.*; public class IOStreamDemo { public static void main(String[] args) { try (ServerSocket server = new ServerSocket(1234)) { System.out.println(\"Server đang lắng nghe trên cổng 1234, cập nhật 16/10/2025 09:20 AM +07...\"); while (true) { try (Socket socket = server.accept()) { System.out.println(\"Kết nối từ: \" + socket.getInetAddress()); // Đọc dữ liệu từ client BufferedReader reader = new BufferedReader(new InputStreamReader(socket.getInputStream())); String message = reader.readLine(); System.out.println(\"Nhận từ client: \" + message); // Gửi phản hồi PrintWriter out = new PrintWriter(socket.getOutputStream(), true); out.println(\"Server đã nhận: \" + message + \" vào \" + new java.util.Date()); } catch (IOException e) { System.out.println(\"Lỗi kết nối: \" + e.getMessage()); } } } catch (IOException e) { System.out.println(\"Lỗi khởi tạo server: \" + e.getMessage()); } } } ","wordCount":"568","inLanguage":"en","datePublished":"2025-10-16T00:00:00Z","dateModified":"2025-10-16T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://nhittt29.github.io/MyTechTales/blog/java/io-streams/"},"publisher":{"@type":"Organization","name":"My Tech Tales","logo":{"@type":"ImageObject","url":"https://nhittt29.github.io/MyTechTales/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://nhittt29.github.io/MyTechTales/ accesskey=h title="My Tech Tales (Alt + H)">My Tech Tales</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://nhittt29.github.io/MyTechTales/ title=Home><span>Home</span></a></li><li><a href=https://nhittt29.github.io/MyTechTales/blog/ title=Blog><span>Blog</span></a></li><li><a href=https://nhittt29.github.io/MyTechTales/profile/ title=Profile><span>Profile</span></a></li><li><a href=https://nhittt29.github.io/MyTechTales/search/ title="Tìm kiếm"><span>Tìm kiếm</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://nhittt29.github.io/MyTechTales/>Home</a>&nbsp;»&nbsp;<a href=https://nhittt29.github.io/MyTechTales/blog/>Bài viết</a>&nbsp;»&nbsp;<a href=https://nhittt29.github.io/MyTechTales/blog/java/>Lập trình Java</a></div><h1 class="post-title entry-hint-parent">Quản lý các luồng nhập xuất</h1><div class=post-meta><span title='2025-10-16 00:00:00 +0000 UTC'>October 16, 2025</span>&nbsp;·&nbsp;<span>3 min</span></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#1-gi%e1%bb%9bi-thi%e1%bb%87u aria-label="1. Giới thiệu">1. Giới thiệu</a></li><li><a href=#2-vai-tr%c3%b2-c%e1%bb%a7a-lu%e1%bb%93ng-nh%e1%ba%adp-xu%e1%ba%a5t-trong-m%e1%ba%a1ng aria-label="2. Vai trò của luồng nhập xuất trong mạng">2. Vai trò của luồng nhập xuất trong mạng</a></li><li><a href=#3-c%c3%a1c-lo%e1%ba%a1i-lu%e1%bb%93ng-trong-java aria-label="3. Các loại luồng trong Java">3. Các loại luồng trong Java</a></li><li><a href=#4-c%c3%a1ch-qu%e1%ba%a3n-l%c3%bd-lu%e1%bb%93ng-hi%e1%bb%87u-qu%e1%ba%a3 aria-label="4. Cách quản lý luồng hiệu quả">4. Cách quản lý luồng hiệu quả</a></li><li><a href=#5-%e1%bb%a9ng-d%e1%bb%a5ng-th%e1%bb%b1c-t%e1%ba%bf aria-label="5. Ứng dụng thực tế">5. Ứng dụng thực tế</a></li><li><a href=#6-v%c3%ad-d%e1%bb%a5-minh-h%e1%bb%8da aria-label="6. Ví dụ minh họa">6. Ví dụ minh họa</a></li></ul></div></details></div><div class=post-content><h2 id=1-giới-thiệu>1. Giới thiệu<a hidden class=anchor aria-hidden=true href=#1-giới-thiệu>#</a></h2><p>Luồng nhập xuất (Input/Output - I/O) là quá trình xử lý dữ liệu giữa các thiết bị hoặc qua mạng trong Java.<br>Trong lập trình mạng, I/O đóng vai trò quan trọng để gửi và nhận thông tin giữa client và server một cách hiệu quả.<br>Bài viết này, được cập nhật vào sáng ngày 16/10/2025 lúc 09:20 AM +07, sẽ giải thích cách quản lý luồng, các loại luồng, phương pháp tối ưu, và ứng dụng thực tế.</p><p><img alt="I/O Streams" loading=lazy src=https://nhittt29.github.io/MyTechTales/images/io-streams.png title="Luồng nhập xuất trong Java"></p><h2 id=2-vai-trò-của-luồng-nhập-xuất-trong-mạng>2. Vai trò của luồng nhập xuất trong mạng<a hidden class=anchor aria-hidden=true href=#2-vai-trò-của-luồng-nhập-xuất-trong-mạng>#</a></h2><ul><li><strong>Nhận dữ liệu</strong>: Đọc thông tin từ socket, file, hoặc nguồn dữ liệu qua mạng.</li><li><strong>Gửi dữ liệu</strong>: Truyền phản hồi, file, hoặc lệnh điều khiển đến client.</li><li><strong>Hiệu suất</strong>: Quản lý luồng đúng cách giúp tránh nghẽn mạng, mất dữ liệu, hoặc tiêu tốn tài nguyên không cần thiết.</li><li><strong>Thời gian thực</strong>: Hỗ trợ các ứng dụng như streaming hoặc chat cần xử lý dữ liệu liên tục.</li></ul><h2 id=3-các-loại-luồng-trong-java>3. Các loại luồng trong Java<a hidden class=anchor aria-hidden=true href=#3-các-loại-luồng-trong-java>#</a></h2><p>Java cung cấp nhiều loại luồng để xử lý dữ liệu, mỗi loại phù hợp với mục đích khác nhau:</p><ul><li><strong>InputStream</strong>: Đọc dữ liệu thô từ nguồn (ví dụ: socket, file).<ul><li><strong>FileInputStream</strong>: Đọc file cục bộ.</li><li><strong>BufferedInputStream</strong>: Tăng tốc độ đọc bằng bộ đệm.</li></ul></li><li><strong>OutputStream</strong>: Gửi dữ liệu đến đích.<ul><li><strong>FileOutputStream</strong>: Ghi vào file.</li><li><strong>PrintWriter</strong>: Hỗ trợ ghi chuỗi dễ dàng, thường dùng trong socket.</li></ul></li><li><strong>Reader/Writer</strong>: Xử lý dữ liệu ký tự (Unicode), phù hợp với văn bản.<ul><li><strong>BufferedReader</strong>: Đọc dòng văn bản hiệu quả.</li><li><strong>PrintWriter</strong>: Ghi văn bản với định dạng tốt.</li></ul></li></ul><h2 id=4-cách-quản-lý-luồng-hiệu-quả>4. Cách quản lý luồng hiệu quả<a hidden class=anchor aria-hidden=true href=#4-cách-quản-lý-luồng-hiệu-quả>#</a></h2><p>Để đảm bảo ứng dụng mạng hoạt động ổn định, cần áp dụng các kỹ thuật sau:</p><ul><li><strong>Mở và đóng luồng</strong>: Luôn gọi phương thức <code>close()</code> sau khi sử dụng để giải phóng tài nguyên. Sử dụng try-with-resources để tự động đóng.</li><li><strong>Xử lý ngoại lệ</strong>: Áp dụng try-catch để bắt lỗi <code>IOException</code>, tránh crash ứng dụng.</li><li><strong>Sử dụng buffer</strong>: Bộ đệm (BufferedReader/BufferedWriter) giảm số lần truy cập I/O, tăng hiệu suất.</li><li><strong>Kiểm tra trạng thái</strong>: Đảm bảo socket hoặc luồng còn hoạt động trước khi đọc/ghi.</li></ul><h2 id=5-ứng-dụng-thực-tế>5. Ứng dụng thực tế<a hidden class=anchor aria-hidden=true href=#5-ứng-dụng-thực-tế>#</a></h2><ul><li><strong>Nhận file qua mạng</strong>: Tải tệp từ server về client, ví dụ: cập nhật phần mềm.</li><li><strong>Gửi lệnh điều khiển</strong>: Truyền thông tin cấu hình qua socket, như điều chỉnh server từ xa.</li><li><strong>Dịch vụ streaming</strong>: Phát video hoặc âm thanh qua mạng, yêu cầu I/O liên tục.</li><li><strong>Log hệ thống</strong>: Ghi nhật ký hoạt động mạng vào file để phân tích.</li></ul><h2 id=6-ví-dụ-minh-họa>6. Ví dụ minh họa<a hidden class=anchor aria-hidden=true href=#6-ví-dụ-minh-họa>#</a></h2><p>Dưới đây là ví dụ server nhận dữ liệu từ client qua luồng, với xử lý ngoại lệ và bộ đệm:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>import</span> java.io.*;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.net.*;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>IOStreamDemo</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span>(String<span style=color:#f92672>[]</span> args) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>try</span> (ServerSocket server <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ServerSocket(1234)) {
</span></span><span style=display:flex><span>            System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Server đang lắng nghe trên cổng 1234, cập nhật 16/10/2025 09:20 AM +07...&#34;</span>);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>while</span> (<span style=color:#66d9ef>true</span>) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>try</span> (Socket socket <span style=color:#f92672>=</span> server.<span style=color:#a6e22e>accept</span>()) {
</span></span><span style=display:flex><span>                    System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Kết nối từ: &#34;</span> <span style=color:#f92672>+</span> socket.<span style=color:#a6e22e>getInetAddress</span>());
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                    <span style=color:#75715e>// Đọc dữ liệu từ client</span>
</span></span><span style=display:flex><span>                    BufferedReader reader <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> BufferedReader(<span style=color:#66d9ef>new</span> InputStreamReader(socket.<span style=color:#a6e22e>getInputStream</span>()));
</span></span><span style=display:flex><span>                    String message <span style=color:#f92672>=</span> reader.<span style=color:#a6e22e>readLine</span>();
</span></span><span style=display:flex><span>                    System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Nhận từ client: &#34;</span> <span style=color:#f92672>+</span> message);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                    <span style=color:#75715e>// Gửi phản hồi</span>
</span></span><span style=display:flex><span>                    PrintWriter out <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> PrintWriter(socket.<span style=color:#a6e22e>getOutputStream</span>(), <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>                    out.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Server đã nhận: &#34;</span> <span style=color:#f92672>+</span> message <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; vào &#34;</span> <span style=color:#f92672>+</span> <span style=color:#66d9ef>new</span> java.<span style=color:#a6e22e>util</span>.<span style=color:#a6e22e>Date</span>());
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                } <span style=color:#66d9ef>catch</span> (IOException e) {
</span></span><span style=display:flex><span>                    System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Lỗi kết nối: &#34;</span> <span style=color:#f92672>+</span> e.<span style=color:#a6e22e>getMessage</span>());
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>catch</span> (IOException e) {
</span></span><span style=display:flex><span>            System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Lỗi khởi tạo server: &#34;</span> <span style=color:#f92672>+</span> e.<span style=color:#a6e22e>getMessage</span>());
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://nhittt29.github.io/MyTechTales/tags/java/>Java</a></li><li><a href=https://nhittt29.github.io/MyTechTales/tags/i/o/>I/O</a></li><li><a href=https://nhittt29.github.io/MyTechTales/tags/m%E1%BA%A1ng/>Mạng</a></li></ul><nav class=paginav><a class=prev href=https://nhittt29.github.io/MyTechTales/blog/java/tcp-socket/><span class=title>« Prev</span><br><span>Lập trình socket cho giao thức TCP</span>
</a><a class=next href=https://nhittt29.github.io/MyTechTales/blog/java/network-services/><span class=title>Next »</span><br><span>Quản lý dịch vụ kết nối mạng</span></a></nav></footer></article></main><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>